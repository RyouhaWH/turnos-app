@import 'tailwindcss';

@plugin 'tailwindcss-animate';

@source '../views';
@source '../../vendor/laravel/framework/src/Illuminate/Pagination/resources/views/*.blade.php';

@custom-variant dark (&:is(.dark *));

@theme {
    --font-sans:
        'Instrument Sans', ui-sans-serif, system-ui, sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol', 'Noto Color Emoji';

    --radius-lg: var(--radius);
    --radius-md: calc(var(--radius) - 2px);
    --radius-sm: calc(var(--radius) - 4px);

    --color-background: var(--background);
    --color-foreground: var(--foreground);

    --color-card: var(--card);
    --color-card-foreground: var(--card-foreground);

    --color-popover: var(--popover);
    --color-popover-foreground: var(--popover-foreground);

    --color-primary: var(--primary);
    --color-primary-foreground: var(--primary-foreground);

    --color-secondary: var(--secondary);
    --color-secondary-foreground: var(--secondary-foreground);

    --color-muted: var(--muted);
    --color-muted-foreground: var(--muted-foreground);

    --color-accent: var(--accent);
    --color-accent-foreground: var(--accent-foreground);

    --color-destructive: var(--destructive);
    --color-destructive-foreground: var(--destructive-foreground);

    --color-border: var(--border);
    --color-input: var(--input);
    --color-ring: var(--ring);

    --color-chart-1: var(--chart-1);
    --color-chart-2: var(--chart-2);
    --color-chart-3: var(--chart-3);
    --color-chart-4: var(--chart-4);
    --color-chart-5: var(--chart-5);

    --color-sidebar: var(--sidebar);
    --color-sidebar-foreground: var(--sidebar-foreground);
    --color-sidebar-primary: var(--sidebar-primary);
    --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
    --color-sidebar-accent: var(--sidebar-accent);
    --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
    --color-sidebar-border: var(--sidebar-border);
    --color-sidebar-ring: var(--sidebar-ring);
}

/*
  The default border color has changed to `currentColor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
    *,
    ::after,
    ::before,
    ::backdrop,
    ::file-selector-button {
        border-color: var(--color-gray-200, currentColor);
    }
}

:root {
    --background: oklch(1 0 0);
    --foreground: oklch(0.145 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145 0 0);
    --primary: oklch(0.205 0 0);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.97 0 0);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.97 0 0);
    --muted-foreground: oklch(0.556 0 0);
    --accent: oklch(0.97 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.577 0.245 27.325);
    --destructive-foreground: oklch(0.577 0.245 27.325);
    --border: oklch(0.922 0 0);
    --input: oklch(0.922 0 0);
    --ring: oklch(0.87 0 0);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
    --radius: 0.625rem;
    --sidebar: oklch(0.985 0 0);
    --sidebar-foreground: oklch(0.145 0 0);
    --sidebar-primary: oklch(0.205 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.97 0 0);
    --sidebar-accent-foreground: oklch(0.205 0 0);
    --sidebar-border: oklch(0.922 0 0);
    --sidebar-ring: oklch(0.87 0 0);
}

.dark {
    --background: oklch(0.145 0 0);
    --foreground: oklch(0.985 0 0);
    --card: oklch(0.145 0 0);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(0.145 0 0);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.985 0 0);
    --primary-foreground: oklch(0.205 0 0);
    --secondary: oklch(0.269 0 0);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(0.269 0 0);
    --muted-foreground: oklch(0.708 0 0);
    --accent: oklch(0.269 0 0);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.396 0.141 25.723);
    --destructive-foreground: oklch(0.637 0.237 25.331);
    --border: oklch(0.269 0 0);
    --input: oklch(0.269 0 0);
    --ring: oklch(0.439 0 0);
    --chart-1: oklch(0.488 0.243 264.376);
    --chart-2: oklch(0.696 0.17 162.48);
    --chart-3: oklch(0.769 0.188 70.08);
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);
    --sidebar: oklch(0.205 0 0);
    --sidebar-foreground: oklch(0.985 0 0);
    --sidebar-primary: oklch(0.985 0 0);
    --sidebar-primary-foreground: oklch(0.985 0 0);
    --sidebar-accent: oklch(0.269 0 0);
    --sidebar-accent-foreground: oklch(0.985 0 0);
    --sidebar-border: oklch(0.269 0 0);
    --sidebar-ring: oklch(0.439 0 0);
}

/* En tu archivo CSS global o en el componente */
.ag-theme-alpine .cell-modified {
  background: linear-gradient(135deg, #fef3c7, #fde68a) !important;
  border: 1px solid #f59e0b !important;
  position: relative;
}

.ag-theme-alpine .cell-modified::after {
  content: '●';
  position: absolute;
  top: 2px;
  right: 2px;
  color: #f59e0b;
  font-size: 10px;
}

.ag-custom-header .ag-header-cell-label {
  white-space: pre-line !important;
  text-align: center;
  justify-content: center;
  line-height: 1.6;
  font-size: .8rem;
  font-weight: 600;
}

/* .ag-cell {
  border-right: 1px solid #ccc;
  border-bottom: 1px solid #ccc;
} */

.ag-header-cell {
  border-right: .1rem solid #a001;
}
.ag-header-cell-text {
  z-index: 99999;
}

.ag-row {
  border-bottom: .001rem solid #0a01;
}

.ag-theme-alpine .ag-custom-header .ag-header-cell-label {
  white-space: pre-line !important;
  text-align: center;
  justify-content: baseline;
  line-height: 1.6;
  font-size: 0.7rem;
}

.ag-theme-alpine .ag-cell {
  padding-top: 4px !important;
  padding-bottom: 4px !important;
  padding-left: 4px !important;
  padding-right:4px !important;
  font-size: 13px;
}


@layer base {
    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
    }
}

/* Estilos para el carrusel móvil */
.scrollbar-hide {
    -ms-overflow-style: none;  /* Internet Explorer 10+ */
    scrollbar-width: none;  /* Firefox */
}

.scrollbar-hide::-webkit-scrollbar {
    display: none;  /* Safari and Chrome */
}

/* Snap scroll para el carrusel */
.snap-x {
    scroll-snap-type: x mandatory;
}

.snap-start {
    scroll-snap-align: start;
}

/* ===== ANIMACIONES GLOBALES ===== */

/* Animaciones base para todos los elementos */
* {
    transition: all 0.2s ease-in-out;
}

/* Excepciones para elementos que no deben animarse */
*:not(.no-animate) {
    transition: all 0.2s ease-in-out;
}

/* Animaciones específicas para diferentes tipos de elementos */

/* 1. Dropdowns y elementos expandibles */
.dropdown-content,
.collapsible-content,
.expandable-content {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 2. Cards y contenedores */
.card,
.container,
.panel {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 3. Botones y elementos interactivos */
button,
.btn,
.interactive {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 4. Grids y layouts */
.grid,
.flex,
.layout {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 5. Elementos de navegación */
nav,
.navigation,
.sidebar {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 6. Modales y overlays */
.modal,
.overlay,
.dialog {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 7. Formularios y inputs */
input,
select,
textarea,
.form-element {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 8. Iconos y elementos decorativos */
.icon,
.svg,
.decorative {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 9. Estados de hover */
*:hover {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 10. Estados de focus */
*:focus {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 11. Estados de active */
*:active {
    transition: all 0.1s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 12. Animaciones para cambios de tamaño */
.size-change,
.height-change,
.width-change {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 13. Animaciones para cambios de posición */
.position-change,
.transform-change {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 14. Animaciones para cambios de opacidad */
.opacity-change,
.visibility-change {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 15. Animaciones para cambios de color */
.color-change,
.background-change {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 16. Animaciones para elementos que aparecen/desaparecen */
.fade-in {
    animation: fadeIn 0.3s ease-in-out;
}

.fade-out {
    animation: fadeOut 0.3s ease-in-out;
}

.slide-in {
    animation: slideIn 0.3s ease-in-out;
}

.slide-out {
    animation: slideOut 0.3s ease-in-out;
}

.scale-in {
    animation: scaleIn 0.3s ease-in-out;
}

.scale-out {
    animation: scaleOut 0.3s ease-in-out;
}

/* 17. Keyframes para las animaciones */
@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

@keyframes fadeOut {
    from {
        opacity: 1;
    }
    to {
        opacity: 0;
    }
}

@keyframes slideIn {
    from {
        transform: translateY(-10px);
        opacity: 0;
    }
    to {
        transform: translateY(0);
        opacity: 1;
    }
}

@keyframes slideOut {
    from {
        transform: translateY(0);
        opacity: 1;
    }
    to {
        transform: translateY(-10px);
        opacity: 0;
    }
}

@keyframes scaleIn {
    from {
        transform: scale(0.95);
        opacity: 0;
    }
    to {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes scaleOut {
    from {
        transform: scale(1);
        opacity: 1;
    }
    to {
        transform: scale(0.95);
        opacity: 0;
    }
}

/* 18. Animaciones para elementos específicos de la aplicación */

/* Ag-grid */
.ag-theme-alpine {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.ag-theme-alpine * {
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Carousel */
.carousel,
.carousel-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Cards del dashboard */
.dashboard-card,
.role-card {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Sidebar */
.sidebar,
.sidebar-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Header */
.header,
.header-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 19. Optimizaciones para rendimiento */
.animate-gpu {
    transform: translateZ(0);
    backface-visibility: hidden;
    perspective: 1000px;
}

/* 20. Clases utilitarias para animaciones específicas */
.animate-smooth {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-fast {
    transition: all 0.15s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-slow {
    transition: all 0.5s cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-bounce {
    transition: all 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

/* 21. Estados de carga */
.loading {
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 1;
    }
    50% {
        opacity: 0.5;
    }
}

/* 22. Animaciones para elementos que cambian de estado */
.state-change {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 23. Animaciones para elementos que se reordenan */

/* 24. Corrección de puntos de origen para animaciones */
/* Corregir el transform-origin para que las animaciones aparezcan desde el punto correcto */
[data-state="open"] {
    transform-origin: var(--radix-dropdown-menu-content-transform-origin, center);
}

/* Para dropdowns y menús */
[data-slot="dropdown-menu-content"],
[data-slot="dropdown-menu-sub-content"] {
    transform-origin: var(--radix-dropdown-menu-content-transform-origin, center);
}

/* Para popovers */
[data-slot="popover-content"] {
    transform-origin: var(--radix-popover-content-transform-origin, center);
}

/* Para tooltips */
[data-slot="tooltip-content"] {
    transform-origin: var(--radix-tooltip-content-transform-origin, center);
}

/* Para select content */
[data-slot="select-content"] {
    transform-origin: var(--radix-select-content-transform-origin, center);
}

/* Para navigation menu */
[data-slot="navigation-menu-content"],
[data-slot="navigation-menu-viewport"] {
    transform-origin: var(--radix-navigation-menu-content-transform-origin, center);
}

/* Para dialogs */
[data-slot="dialog-content"] {
    transform-origin: center;
}

/* Para sheets - mantener el comportamiento lateral */
[data-slot="sheet-content"][data-side="left"] {
    transform-origin: left center;
}

[data-slot="sheet-content"][data-side="right"] {
    transform-origin: right center;
}

[data-slot="sheet-content"][data-side="top"] {
    transform-origin: center top;
}

[data-slot="sheet-content"][data-side="bottom"] {
    transform-origin: center bottom;
}

/* Asegurar que las animaciones zoom-in y zoom-out usen el origen correcto */
.zoom-in-95,
.zoom-out-95,
.zoom-in-90 {
    transform-origin: inherit;
}

/* Corregir las animaciones slide-in para que respeten el origen */
.slide-in-from-top-2,
.slide-in-from-bottom-2,
.slide-in-from-left-2,
.slide-in-from-right-2 {
    transform-origin: inherit;
}

/* 25. Mejoras adicionales para animaciones */
/* Asegurar que todos los elementos con animaciones tengan el origen correcto */
.animate-in,
.animate-out {
    transform-origin: inherit;
}

/* Para elementos que usan data-side, usar el origen apropiado */
[data-side="bottom"] {
    transform-origin: center top;
}

[data-side="top"] {
    transform-origin: center bottom;
}

[data-side="left"] {
    transform-origin: right center;
}

[data-side="right"] {
    transform-origin: left center;
}

/* Mejorar las animaciones de fade para que no tengan problemas de origen */
.fade-in-0,
.fade-out-0 {
    transform-origin: inherit;
}

/* Asegurar que las animaciones de Radix UI funcionen correctamente */
[data-radix-popper-content-wrapper] {
    transform-origin: inherit;
}

/* Para elementos que se posicionan dinámicamente */
[style*="transform-origin"] {
    /* Respetar el transform-origin definido dinámicamente */
}

/* 26. Correcciones específicas para móvil */
/* Asegurar que las animaciones móviles funcionen correctamente */
@media (max-width: 768px) {
    /* Forzar el transform-origin correcto en móvil */
    [data-slot="popover-content"],
    [data-slot="dropdown-menu-content"],
    [data-slot="dropdown-menu-sub-content"] {
        transform-origin: center !important;
    }

    /* Para popovers en móvil, usar el origen del trigger */
    [data-slot="popover-content"][data-side="bottom"] {
        transform-origin: center top !important;
    }

    [data-slot="popover-content"][data-side="top"] {
        transform-origin: center bottom !important;
    }

    [data-slot="popover-content"][data-side="left"] {
        transform-origin: right center !important;
    }

    [data-slot="popover-content"][data-side="right"] {
        transform-origin: left center !important;
    }

    /* Para sheets en móvil */
    [data-slot="sheet-content"][data-side="left"] {
        transform-origin: left center !important;
    }

    [data-slot="sheet-content"][data-side="right"] {
        transform-origin: right center !important;
    }

    /* Asegurar que las animaciones de Radix UI en móvil usen el origen correcto */
    [data-radix-popper-content-wrapper] {
        transform-origin: inherit !important;
    }

    /* Forzar el comportamiento correcto en móvil */
    .mobile-animation-fix {
        transform-origin: center !important;
    }

    /* Corrección global para todas las animaciones en móvil */
    *[data-state="open"] {
        transform-origin: center !important;
    }

    /* Específico para elementos que aparecen desde abajo */
    *[data-side="bottom"][data-state="open"] {
        transform-origin: center top !important;
    }

    /* Específico para elementos que aparecen desde arriba */
    *[data-side="top"][data-state="open"] {
        transform-origin: center bottom !important;
    }

    /* Específico para elementos que aparecen desde la izquierda */
    *[data-side="left"][data-state="open"] {
        transform-origin: right center !important;
    }

    /* Específico para elementos que aparecen desde la derecha */
    *[data-side="right"][data-state="open"] {
        transform-origin: left center !important;
    }

    /* Corrección específica para Radix UI en móvil */
    [data-radix-popper-content-wrapper] * {
        transform-origin: inherit !important;
    }

    /* Forzar el comportamiento correcto en todos los portales de Radix */
    [data-radix-portal] * {
        transform-origin: inherit !important;
    }

    /* Corrección final para móvil - sobrescribir cualquier transform-origin problemático */
    .animate-in,
    .animate-out,
    .zoom-in-95,
    .zoom-out-95,
    .zoom-in-90,
    .slide-in-from-top-2,
    .slide-in-from-bottom-2,
    .slide-in-from-left-2,
    .slide-in-from-right-2,
    .slide-out-to-top,
    .slide-out-to-bottom,
    .slide-out-to-left,
    .slide-out-to-right {
        transform-origin: inherit !important;
    }
}
.reorder {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 24. Animaciones para elementos que se filtran */
.filter {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* 25. Animaciones para elementos que se buscan */
.search {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
